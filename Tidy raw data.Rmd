---
title: "Tidy raw data"
output: github_document
---

```{r include=FALSE}
library(tidyverse)

raw_data = read_csv("raw_data.csv")

tidy_data = raw_data %>% 
 janitor::clean_names() %>% 
 select(license_type, breed, color, owner_zip, valid_date)
 
```

# license_type

In terms of the license type, we delete three types: "Dog Lifetime Duplicate", "Dog Out of County Transfer - Lifetime", "Dog Inter County Transfer - Lifetime". We mainly focus on the remaining four types of licenses with male and female numbers combined together.

```{r}
tidy_data = 
 tidy_data %>% 
 filter(!(license_type %in% c("Dog Lifetime Duplicate", "Dog Out of County Transfer - Lifetime", "Dog Inter County Transfer - Lifetime"))) %>% 
  mutate(
    license_type = str_replace(license_type, "Male", ""),
    license_type = str_replace(license_type, "Female", "")
  )

```

# breed
We separate the breed into two types, mixed and pure. All the breeds whose name contains "mix" are belong to mixed. Others are pure.

```{r}
tidy_data = tidy_data %>% 
  mutate(
    breed_type = ifelse(str_detect(breed, "MIX"), "MIXED", "PURE")
  )
```

# zipcode

There is some zipcode that are not in Allegheny County, such as 16229, 46845 and so on. We only select zipcode of cities that belong to Allegheny County

```{r}
tidy_zip_data = tidy_data %>% 
  filter(owner_zip < 16000)
```

